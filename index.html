<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Calculator Consum Cerneală</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'Inter', 'Roboto', 'Open Sans', system-ui, -apple-system, sans-serif;
    }
    body {
      font-family: 'Inter', 'Roboto', 'Open Sans', system-ui, -apple-system, sans-serif;
      background: #ffffff;
      color: #0A2351;
      margin: 0;
      padding: 2rem;
      line-height: 1.6;
    }
    .logo {
      display: block;
      margin: 0 auto 1.5rem auto;
      max-width: 300px;
      height: auto;
    }
    h1 {
      text-align: left;
      margin: 0 0 1.5rem 0;
      color: #0A2351;
      font-weight: 700;
      font-size: 1.5rem;
    }
    .card {
      background: #ffffff;
      border-radius: 10px;
      max-width: 600px;
      margin: 0 auto;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border: 1px solid #e5e5e5;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-size: 1.18125rem;
      color: #0A2351;
      font-weight: 600;
    }
    .input-row {
      display: flex;
      gap: 0.75rem;
      margin-top: 1rem;
    }
    .input-group {
      flex: 1;
      min-width: 0;
    }
    .input-group label {
      margin-top: 0;
    }
    input, select {
      width: 100%;
      padding: 0.6rem;
      border-radius: 6px;
      border: 1px solid #d0d0d0;
      background: #ffffff;
      color: #0A2351;
      margin-top: 0.4rem;
      box-sizing: border-box;
      font-size: 1.3125rem;
      transition: border-color 0.2s;
    }
    input:focus, select:focus {
      outline: none;
      border-color: #7eda29;
    }
    .anilox-group {
      display: flex;
      flex-wrap: wrap;
      row-gap: 0.5rem;
      column-gap: 0.5rem;
      margin-top: 0.4rem;
      align-items: flex-start;
    }
    .anilox-btn {
      flex: 0 0 calc(25% - 0.375rem);
      padding: 0.6rem 0.8rem;
      border-radius: 6px;
      border: 1px solid #d0d0d0;
      background: #ffffff;
      color: #0A2351;
      font-size: 1.18125rem;
      cursor: pointer;
      transition: all 0.2s;
      margin: 0;
      line-height: 1;
      font-weight: 500;
    }
    .acoperire-group {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.4rem;
    }
    .acoperire-btn {
      flex: 1;
      min-width: 60px;
      padding: 0.6rem 0.8rem;
      border-radius: 6px;
      border: 1px solid #d0d0d0;
      background: #ffffff;
      color: #0A2351;
      font-size: 1.18125rem;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }
    .anilox-btn:hover, .acoperire-btn:hover {
      background: #f5f5f5;
      border-color: #b0b0b0;
    }
    .anilox-btn.selected {
      background: #7eda29;
      border-color: #7eda29;
      color: white;
    }
    .anilox-btn.selected:hover {
      background: #65ad22;
      border-color: #65ad22;
    }
    .acoperire-btn.selected {
      background: #7eda29;
      border-color: #7eda29;
      color: white;
    }
    .acoperire-btn.selected:hover {
      background: #65ad22;
      border-color: #65ad22;
    }
    button {
      margin-top: 1.5rem;
      width: 100%;
      padding: 0.8rem;
      border: none;
      border-radius: 6px;
      background: #2980b9;
      color: white;
      font-size: 0.75rem;
      cursor: pointer;
    }
    button:hover { background: #3498db; }
    .output {
      margin-top: 1.5rem;
      background: #7eda29;
      padding: 1.5rem;
      border-radius: 10px;
      text-align: center;
      min-height: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.975rem;
      color: white;
      font-weight: 500;
    }
    .output.placeholder {
      background: #f5f5f5;
      color: #999;
      font-style: italic;
      font-size: 0.675rem;
      font-weight: normal;
      border: 1px solid #e5e5e5;
    }
    .output strong {
      font-size: 1em;
    }
    .output-number {
      font-size: 150%;
      font-weight: bold;
    }
    .output small {
      font-size: 1em;
      opacity: 0.9;
    }
    .output small .output-number {
      font-size: 125%;
    }
    .formulas {
      margin-top: 1rem;
      padding: 1rem;
      background: #f9f9f9;
      border-radius: 6px;
      font-size: 0.4875rem;
      color: #666;
      line-height: 1.6;
      border: 1px solid #e5e5e5;
    }
    .formulas div {
      margin-bottom: 0.5rem;
    }
    .formulas div:last-child {
      margin-bottom: 0;
    }
  </style>
</head>
<body>
  <img src="https://crescento.ro/wp-content/uploads/2025/05/logo-crescento-iasi-notagline-300x65.png" alt="Crescento Logo" class="logo">
  <div class="card">
    <h1>Calculator Consum Cerneală</h1>
    <div class="input-row">
      <div class="input-group">
        <label>Lățime bandă (mm)</label>
        <input type="number" id="latime" placeholder="ex. 610">
      </div>
      <div class="input-group">
        <label>Lungime tipărită (m)</label>
        <input type="number" id="lungime" placeholder="ex. 20000">
      </div>
    </div>

    <label>Anilox</label>
    <div class="anilox-group">
      <button class="anilox-btn selected" data-value="1.2">1.2</button>
      <button class="anilox-btn" data-value="3.5">3.5</button>
      <button class="anilox-btn" data-value="4.5">4.5</button>
      <button class="anilox-btn" data-value="5">5</button>
      <button class="anilox-btn" data-value="6">6</button>
      <button class="anilox-btn" data-value="9">9</button>
      <button class="anilox-btn" data-value="12">12</button>
      <button class="anilox-btn" data-value="14">14</button>
    </div>

    <label>Grad acoperire</label>
    <div class="acoperire-group">
      <button class="acoperire-btn selected" data-value="10%">10%</button>
      <button class="acoperire-btn" data-value="25%">25%</button>
      <button class="acoperire-btn" data-value="50%">50%</button>
      <button class="acoperire-btn" data-value="75%">75%</button>
      <button class="acoperire-btn" data-value="100%">100%</button>
    </div>

    <div class="output placeholder" id="rezultat">Introduceți date pentru calculul consumului</div>
    <div class="formulas" id="formule" style="display: none;"></div>
  </div>

  <script>
    const lookup = {
      "1.2": { "10%": 0.03, "25%": 0.08, "50%": 0.15, "75%": 0.23, "100%": 0.30 },
      "3.5": { "10%": 0.09, "25%": 0.22, "50%": 0.44, "75%": 0.66, "100%": 0.88 },
      "4.5": { "10%": 0.11, "25%": 0.28, "50%": 0.56, "75%": 0.84, "100%": 1.13 },
      "5":   { "10%": 0.13, "25%": 0.31, "50%": 0.63, "75%": 0.94, "100%": 1.25 },
      "6":   { "10%": 0.15, "25%": 0.38, "50%": 0.75, "75%": 1.13, "100%": 1.50 },
      "9":   { "10%": 0.23, "25%": 0.56, "50%": 1.13, "75%": 1.69, "100%": 2.25 },
      "12":  { "10%": 0.30, "25%": 0.75, "50%": 1.50, "75%": 2.25, "100%": 3.00 },
      "14":  { "10%": 0.35, "25%": 0.88, "50%": 1.75, "75%": 2.63, "100%": 3.50 }
    };

    function getSelectedAnilox() {
      const selected = document.querySelector('.anilox-btn.selected');
      return selected ? selected.getAttribute('data-value') : '1.2';
    }

    function getSelectedAcoperire() {
      const selected = document.querySelector('.acoperire-btn.selected');
      return selected ? selected.getAttribute('data-value') : '50%';
    }

    function calculeaza() {
      const lat = parseFloat(document.getElementById('latime').value);
      const lung = parseFloat(document.getElementById('lungime').value);
      const anilox = getSelectedAnilox();
      const acop = getSelectedAcoperire();
      const output = document.getElementById('rezultat');

      const formulasDiv = document.getElementById('formule');
      
      if (isNaN(lat) || isNaN(lung) || lat <= 0 || lung <= 0) {
        output.className = 'output placeholder';
        output.textContent = 'Introduceți date pentru calculul consumului';
        formulasDiv.style.display = 'none';
        return;
      }

      const acoperire = lookup[anilox][acop];
      const consum = (lung * lat * acoperire) / 1_000_000;
      const arie = (lat / 1000) * lung;
      
      output.className = 'output';
      output.innerHTML = `<div><strong>Consum estimat:</strong> <span class="output-number">${consum.toFixed(2)} kg</span> <small>(<span class="output-number">${acoperire}</span> g/m²)</small></div>`;
      
      formulasDiv.style.display = 'block';
      formulasDiv.innerHTML = `
        <div>Formulă: Consum (kg) = Lungime_m × Lățime_mm × C_g_m² / 1.000.000</div>
        <div>Consum (kg) = ${lung} × ${lat} × ${acoperire} / 1.000.000 = ${consum.toFixed(2)} kg</div>
        <div>Echivalent: Consum (kg) = Arie_m² × C_g_m² / 1000, cu Arie_m² = (Lățime_mm/1000) × Lungime_m</div>
        <div>Arie_m² = (${lat}/1000) × ${lung} = ${arie.toFixed(2)} m²</div>
        <div>Consum (kg) = ${arie.toFixed(2)} × ${acoperire} / 1000 = ${consum.toFixed(2)} kg</div>
      `;
    }

    // handle anilox button selection
    document.querySelectorAll('.anilox-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.anilox-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
        calculeaza();
      });
    });

    // handle acoperire button selection
    document.querySelectorAll('.acoperire-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.acoperire-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
        calculeaza();
      });
    });

    // restrict inputs to numbers only
    function restrictToNumbers(input) {
      input.addEventListener('keydown', function(e) {
        const allowed = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Home', 'End'];
        if (!/[0-9]/.test(e.key) && !allowed.includes(e.key) && !(e.ctrlKey && ['a', 'c', 'v', 'x'].includes(e.key.toLowerCase()))) {
          e.preventDefault();
        }
      });
      input.addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g, '');
        calculeaza();
      });
      input.addEventListener('paste', function(e) {
        e.preventDefault();
        const paste = (e.clipboardData || window.clipboardData).getData('text');
        const numbers = paste.replace(/[^0-9]/g, '');
        this.value = numbers;
        calculeaza();
      });
    }

    restrictToNumbers(document.getElementById('latime'));
    restrictToNumbers(document.getElementById('lungime'));
  </script>
</body>
</html>
